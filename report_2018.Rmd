---
title: "Review of Data"
subtitle: "London East Asia Film Festival (LEAFF) 2018"
author: "[Avision Ho](https://github.com/avisionh)"
date: "`r Sys.Date()`"
output:
  tufte::tufte_html: default
  tufte::tufte_handout:
    citation_package: natbib
    latex_engine: xelatex
  tufte::tufte_book:
    citation_package: natbib
    latex_engine: xelatex
bibliography: skeleton.bib
link-citations: yes
---

```{r setup, include = FALSE}
# For markdown template
library(tufte)

# Load relevant packages for project
vec_packages <- c("stringr", "tidyselect")
pacman::p_load(char = vec_packages, install = TRUE)

# invalidate cache when the tufte version changes
knitr::opts_chunk$set(tidy = FALSE, cache.extra = packageVersion('tufte'))
options(htmltools.dir.version = FALSE)

knitr::opts_chunk$set(results = "asis", warning = FALSE, message = FALSE)

# Load scripts
source("scripts/0 - functions.R")
source("scripts/1.1 - dataImportClean.R")

# Turn off scientific notation
options(scipen = 999, expressions = 10000)

cb_palette <- c("cb_black" = "#000000",
                "cb_grey" = "#999999",
                "cb_orange" = "#E69F00",
                "cb_light_blue" = "#56B4E9",
                "cb_green" = "#009E73",
                "cb_yellow" = "#F0E442",
                "cb_dark_blue" = "#0072B2",
                "cb_red" = "#D55E00",
                "cb_pink" = "#CC79A7")

rm(vec_packages)
```

# Executive Summary
```{r (HIDE) Exec Summary (also in 3.5 Future - text), echo = FALSE, include = FALSE}
table_future <- data_demographics %>% 
  filter(Category == "Likelihood of attending again?") %>% 
  mutate(Percent = Value/sum(Value)) %>% 
  select(-Category)

txt_future <- table_future %>% 
  filter(Field %in% c("Very Likely", "Likely")) %>% 
  mutate(PercentFinal = sum(x = Percent) * 100) %>% 
  distinct(PercentFinal) %>% 
  pull() %>% 
  signif(digits = 2) %>% 
  paste0("%")
```
```{r Exec Summary - side-image, echo=FALSE, fig.margin = TRUE}
#include_graphics('pictures/logo.png')
```
From the data analysed in this report, the key findings are:

**The curated film programme at LEAFF 2017 catered to a mainstream and large audience, and more particularly, being of most interest to the key age groups of 20 - 30.**

**The marketing strategy attracted a good range of people from different backgrounds who were new to the festival and returned to the festival from previous years.**

**The additional events such as Q&A sessions and workshops successfully engaged audiences enough to develop their interest and intrigue in film beyond just watching film.**

**The overall delivery of the entire festival was effective in receiving positive reviews from attendees.**

**Lastly, the overall festival experience was of such quality that `r toString(txt_future)` of survey respondents will return again in the future.**

***

# Introduction

> _LEAFF aims to champion the growing collaboration in East Asian filmmaking with a philosophy that marks a shift in the cinematic landscape of East Asia, and moves away from cultural and cinematic borders. Our vision is to bring a much wider, eclectic, and diverse programme of films from over 10 countries to show the richness and diversity of the region and its people. We want to draw people in with the familiar, and offer opportunities to see something new._
>
> `r quote_footer('--- Hyejung Jeon, Festival Director')`

`r newthought('This paper analyses the data')` collected from the London East Asia Film Festival (LEAFF) 2018. It does so with the intention of providing a summary of how successful the event was, and to provide a benchmark for future editions 

***

# Section 3: Key Performance Metrics
`r newthought("This section presents")` key analyis of the festival's performance data.

## Section 3.3: Audience rating of their LEAFF 2018 experience
```{r (HIDE) 3.3 Rating, echo = FALSE, include = FALSE}
data_rating <- data_survey %>% 
  filter(str_detect(string = Question, pattern = "2. How likely")) %>% 
  # convert to integer to allow summation
  mutate(Response = as.integer(Response)) %>% 
  # select only columns we need to group_by
  select(Choice, Response) %>% 
  group_by(Choice) %>% 
  summarise(Total = sum(Response, na.rm = TRUE))

data_rating <- data_demographics %>% 
  filter(Category == "Rating of the experience") %>% 
  mutate(Percent = round(x = Value/sum(Value), digits = 2)) 

txt_rating <- data_rating %>% 
  filter(Field %in% c("Brilliant       *****", "****"))
txt_rating <- sum(x = txt_rating$Percent)

if (txt_rating > 0.7) {
  txt_rating_conc <- c("the majority of", "successful")
} else if (txt_rating > 0.5) {
  txt_rating_con <- c("over half of", "successful")
} else {
  txt_rating_conc <- c("some", "unsuccessful")
}
```
```{r (SHOW) 3.3 Rating - plot, echo = FALSE, fig.margin = TRUE, fig.cap = "Figure 6", fig.width = 5, fig.height = 4}
lvls <- c("Brilliant       *****", "****", "***", "**", "Poor *")
data_rating <- data_demographics_master %>% 
  filter(Category == "Rating of the experience") %>% 
  mutate(Field = factor(x = Field, levels = lvls))
func_plot_counts_percents(x = data_rating, 
                          col_x = "Field",
                          colour_fill = cb_palette[["cb_green"]], 
                          plot_title = "Rating of Experience", 
                          plot_title_x = "Rating")
```
+ In **Figure 6**, `r toString(paste0(txt_rating * 100, "%"))` of attendees rated their LEAFF 2017 experience as being either **Brilliant \*\*\*\*\* ** (*five stars*) or **Good \*\*\*\* ** (*four stars*).

+ This demonstrates that `r toString(txt_rating_conc[1])` attendees enjoyed LEAFF 2017 and that the programme and activities which were part of this were `r toString(txt_rating_conc[2])` in capturing the public's interests and appetite for film and cinema.

## Section 3.4: Audience main motivation for attending
```{r (HIDE) 3.4 Motivation - text, echo = FALSE, include = FALSE}
data_motivation <- data_demographics %>% 
  filter(Category == "main motivation to attend?") %>% 
  mutate(Percent = round(x = Value/sum(Value), digits = 2)) 

threshold <- 100

txt_motivation <- data_motivation %>% 
  filter(Value > threshold) %>% 
  select(Field) %>% 
  pull()

txt_motivation_count <- data_motivation %>% 
  distinct(Field) %>% 
  nrow()

if (txt_motivation_count > 6) {
  txt_motivation_range <- "diverse and far-reaching"
} else {
  txt_motivation_range <- "concentrated"
}
```
```{r (SHOW) 3.4 Motivation - plot, echo = FALSE, fig.margin = TRUE, fig.cap = "Figure 7", fig.width = 5, fig.height = 4}
lvls <- data_motivation %>% 
  arrange(desc(Value)) %>% 
  select(Field) %>% 
  pull()
data_motivation <- data_demographics_master %>% 
  filter(Category == "main motivation to attend?") %>% 
  mutate(Field = factor(x = Field, levels = lvls, labels = lvls))
func_plot_counts_percents(x = data_motivation, 
                          col_x = "Field",
                          colour_fill = cb_palette[["cb_yellow"]], 
                          plot_title = "Main Motivation for Attending", 
                          plot_title_x = "Motivation Reason") +
  # add text-wrapping for x labels
  scale_x_discrete(labels = function(x) str_wrap(x, width = 10))
```
+ In **Figure 7**, the main reasons most people attended were `r toString(txt_motivation)`. ^[*Main reasons* being defined as those reasons which have received more than `r toString(threshold)` responses in the post-film survey.] 

+ Indeed **Figure 7** complements **Figure 6** by providing the core reasons for why festival attendees gave such a positive response of their LEAFF 2017 experience. 

+ **Figure 7** also demonstrates how `r toString(txt_motivation_range)` the reasons for why people attend the festival are, thereby illustrating that the festival caters for a number of preferences, tastes and interests. In this regard, LEAFF 2017 was able to engage with attendees on many levels.

## Section 3.5: Audience likelihood of attending future LEAFFs
```{r (HIDE) 3.5 Future - text, echo = FALSE, include = FALSE}
table_future <- data_demographics %>% 
  filter(Category == "Likelihood of attending again?") %>% 
  mutate(Percent = Value/sum(Value)) %>% 
  select(-Category)

txt_future <- table_future %>% 
  filter(Field %in% c("Very Likely", "Likely")) %>% 
  mutate(PercentFinal = sum(x = Percent) * 100) %>% 
  distinct(PercentFinal) %>% 
  pull() %>% 
  signif(digits = 2) %>% 
  paste0("%")
```
+ In the table below, `r toString(txt_future)` of respondents said they were either **Likely** or **Very Likely** to attend LEAFF in the future.

```{r (SHOW) 3.5 Future - table, echo = FALSE, fig.margin = TRUE}
table_future <- table_future %>% 
  mutate(Percent = paste0(round(x = Percent, digits = 2) * 100, "%"))
pander(x = table_future, 
       caption = "_Likelihood of audience returning for future LEAFF editions based on their experience of LEAFF 2017_")
```

+ This demonstrates that the festival was effective in encouraging people to watch more East Asian film and cinema.


## Section 3.2: Retaining old audiences and capturing new audiences
```{r (HIDE) 3.2 Retention - text, echo = FALSE, include = FALSE}
data_retention <- data_demographics %>% 
  filter(Category == "New   Audience" & Field != "Prefer not to say / did not answer") %>% 
  mutate(Percent = round(x = Value/sum(Value), digits = 2)) %>% 
  arrange(desc(Value))

txt_retention_first <- data_retention %>% 
  head(1)
txt_retention_first <- paste0(select(.data = txt_retention_first, Value),
                              " of LEAFF 2017 attendees saying ", 
                              "\"", select(.data = txt_retention_first, Field), "\"")
txt_retention_second <- data_retention[2, ]
txt_retention_second <- paste0(select(.data = txt_retention_second, Value),
                              " of LEAFF 2017 attendees saying ", 
                              "\"", select(.data = txt_retention_second, Field), "\"")
```
```{r (SHOW) 3.2 Retention - plot, echo = FALSE, fig.margin = TRUE, fig.cap = "Figure 5", fig.width = 6, fig.height = 5}
lvls <- c("Been to LEAFF 2015", "Been to LEAFF 2016",
          "Been to both", "This is my first time")
func_plot_pie(x = data_retention, col_counts = "Percent", col_category = "Field", 
              plot_title = "Audience Retention", factor_levels = lvls)
```
+ In **Figure 5**, we have `r toString(txt_retention_first)` and `r toString(txt_retention_second)`. 

+ These were the top two responses and demonstrates that LEAFF 2017's marketing strategy was effective in encouraging attendees from 2016 to return to LEAFF 2017 and in attracting new attendees.


## Section 3: Summary
+ Given that a high and similar number of `r toString(txt_retention_first)` and `r toString(txt_retention_second)`, `r toString(paste0(txt_rating * 100, "%"))` of attendees rated their LEAFF 2017 experience as being either **Brilliant \*\*\*\*\* ** (*five stars*) or **Good \*\*\*\* ** (*four stars*) then this demonstrates that the festival was left a lasting impression on audiences such that `r toString(txt_future)` of respondents are either **Likely** or **Very Likely** to attend LEAFF in the future.
    
***

# Concluding Remarks
```{r 3. (HIDE) Remove variables, include = FALSE, echo = FALSE}
rm(data_admissions, table_admissions, n_open_gala, n_admissions_gala,value_gala_admissions_proportion, 
   data_retention, txt_retention_first, txt_retention_second, 
   data_rating, txt_rating, txt_rating_conc, 
   data_motivation, threshold, txt_motivation, txt_motivation_range,
   table_future, lvls)
```
+ From the data analysed in this report, the key findings are:

**The curated film programme at LEAFF 2017 catered to a mainstream and large audience, and more particularly, being of most interest to the key age groups of 20 - 30.**

**The marketing strategy attracted a good range of people from different backgrounds who were new to the festival and returned to the festival from previous years.**

**The additional events such as Q&A sessions and workshops successfully engaged audiences enough to develop their interest and intrigue in film beyond just watching film.**

**The overall delivery of the entire festival was effective in receiving positive reviews from attendees.**

**Lastly, the overall festival experience was of such quality that `r toString(txt_future)` of survey respondents will return again in the future.**


```{r bib, include=FALSE}
# create a bib file for the R packages used in this document
knitr::write_bib(c('base', 'rmarkdown'), file = 'skeleton.bib')
```
